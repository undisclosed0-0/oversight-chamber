<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Prestige Hybrid Storefront</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg1:#0f2027; --bg2:#203a43; --bg3:#2c5364;
      --ink:#eaf3ff; --muted:#a8bfd6;
      --blue:#88ccff; --blueDim:#69b9ff;
      --silver:#c0cbd6; --gold:#ffd87a;
      --panel: rgba(30,30,40,0.88);
      --glass: rgba(255,255,255,0.08);
      --radius:14px;
      --shadow:0 18px 40px rgba(0,0,0,0.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink); font-family:'Cinzel Decorative', serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3));
    }
    .wrap{ max-width:1160px; margin:0 auto; padding:18px }

    /* Header crest + fa√ßade */
    header.site {
      padding:22px 16px; text-align:center; position:relative;
      background: radial-gradient(640px 280px at 10% 0%, rgba(136,204,255,0.18), transparent);
      box-shadow: 0 0 30px rgba(136,204,255,0.15) inset;
    }
    .brand-title{
      font-size:2.6rem; margin:0;
      color:var(--ink);
      text-shadow: 0 0 20px var(--blue), 0 0 6px var(--blueDim);
    }
    .crest-mark{
      width:56px; height:56px; border-radius:50%; margin:0 auto 8px;
      background: conic-gradient(from 190deg, var(--blue), #aee3ff, var(--blueDim), var(--blue));
      box-shadow: 0 0 26px var(--blue);
    }

    /* Verse + token box + cart */
    .token-box{
      margin:16px auto; max-width:860px; padding:14px 16px;
      border:1px solid var(--blue); border-radius:12px;
      background: var(--glass); text-align:center;
      box-shadow: 0 0 24px rgba(136,204,255,0.25);
    }
    .verse{ font-style:italic; color:var(--ink); margin-bottom:10px }
    .counters{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; margin-top:8px }
    .counter{
      padding:8px 12px; border-radius:10px; border:1px solid var(--blue);
      background: var(--glass); box-shadow: 0 0 14px rgba(136,204,255,0.25);
    }
    .counter.gold{ border-color: var(--gold); box-shadow: 0 0 16px rgba(255,216,122,0.35); color: var(--gold) }
    .counter.silver{ border-color: var(--silver); box-shadow: 0 0 16px rgba(192,203,214,0.35); color: var(--silver) }
    .cart-btn{
      all:unset; display:inline-block; margin-top:10px; cursor:pointer;
      background:linear-gradient(180deg, #152535, #0f1b29);
      border:1px solid var(--blue); color:var(--ink);
      padding:8px 12px; border-radius:10px;
      box-shadow: 0 0 14px rgba(136,204,255,0.25);
    }

    /* Farce-style first windows row (live/manual submission look) */
    .windows{
      display:grid; grid-template-columns:repeat(4,1fr); gap:12px;
      margin-top:18px;
    }
    .window{
      min-height:150px; position:relative; overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      border:1px solid #28435a; border-radius:12px; box-shadow: var(--shadow);
    }
    .window::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:3px;
      background:linear-gradient(90deg, var(--blue), #aee3ff, var(--blueDim));
      opacity:0.75;
    }
    .tile{
      position:absolute; inset:0; display:flex; align-items:center; gap:12px; padding:12px;
    }
    .tile-art{
      width:70px; height:70px; border-radius:12px;
      background:linear-gradient(135deg, #7a1bd1, #ff2d6b);
      box-shadow:0 10px 26px rgba(122,27,209,0.35);
    }
    .tile-meta{ display:flex; flex-direction:column; gap:6px }
    .tile-title{ font-weight:700 }
    .tile-sub{ color:var(--muted); font-size:13px }
    .badge{
      display:inline-flex; align-items:center; gap:6px; font-size:12px; color:#04131f;
      background:linear-gradient(180deg, var(--blue), #bfe8ff); padding:4px 8px; border-radius:999px; font-weight:700;
    }

    /* Second windows row: chamber directory */
    .windows-dir{ margin-top:16px }
    .dir-card{ padding:12px; text-align:center; border:1px solid #28435a; border-radius:12px; background:var(--glass) }
    .dir-card h3{ margin:6px 0; text-shadow:0 0 8px var(--blue) }
    .dir-card p{ margin:0; color:var(--muted) }
    .dir-card .open{
      display:inline-block; margin-top:8px; padding:6px 10px; border-radius:10px;
      border:1px solid var(--blue); color:#04131f; background:linear-gradient(180deg, var(--blue), #bfe8ff);
      text-decoration:none; font-weight:700;
    }

    /* Chambers (dual panels: left info image/desc, right store) */
    .chamber{
      display:none; margin-top:18px; padding:18px;
      border:2px solid var(--blue); border-radius:var(--radius);
      background:var(--panel); box-shadow: 0 0 24px var(--blue);
    }
    .chamber.active{ display:block }
    .chamber-grid{
      display:grid; grid-template-columns: 1fr 1fr; gap:16px;
    }
    .info-panel, .store-panel{
      border:1px solid #2c4b64; border-radius:12px; background: var(--glass);
      padding:14px;
    }
    .info-img{
      width:100%; height:180px; border-radius:10px; margin-bottom:10px;
      background:linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      border:1px solid #325875;
    }
    .store-panel h4{ margin:0 0 10px; text-shadow:0 0 8px var(--blue) }
    .product-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px }
    .product-card{ border:1px solid var(--blue); border-radius:10px; padding:12px; background:#333a; box-shadow:0 0 12px var(--blue) }
    .price{ opacity:.9; margin:6px 0 }
    .status{ font-style:italic; min-height:22px }
    .status.pending{ color:var(--silver); text-shadow:0 0 6px var(--silver) }
    .status.finalized{ color:var(--gold); text-shadow:0 0 6px var(--gold) }

    /* Payment rails (inside Commerce checkout) */
    .checkout{
      margin-top:12px; display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:10px;
    }
    .rail{ border:1px dashed rgba(136,204,255,0.35); border-radius:10px; padding:12px; background:rgba(46,52,70,0.6) }
    .rail strong{ display:block; margin-bottom:6px }

    /* Live feed + reflection + community ad (timers are hook-ready) */
    .lower{
      margin-top:20px; display:grid; grid-template-columns: 2fr 1fr; gap:14px;
    }
    .panel-lite{
      border:1px solid #2c4b64; border-radius:12px; background: var(--glass);
      padding:12px;
    }
    .feed{ display:grid; gap:8px }
    .feed-item{ padding:10px; border-radius:10px; border:1px solid #325875; background:linear-gradient(180deg, rgba(20,26,34,0.9), rgba(12,17,23,0.9)) }
    .ad{ min-height:80px; display:flex; align-items:center; justify-content:center; text-align:center }

    /* Animations */
    @keyframes frostFade{ from{ opacity:0; transform:scale(0.98) } to{ opacity:1; transform:scale(1) } }
    @keyframes voidGlow{
      0%{ box-shadow:0 0 22px rgba(255,216,122,0.24) }
      50%{ box-shadow:0 0 44px rgba(255,238,200,0.5) }
      100%{ box-shadow:0 0 22px rgba(255,216,122,0.24) }
    }
    .frost{ animation:frostFade .8s ease forwards }
    .void{ animation:voidGlow 8s ease-in-out infinite }

    /* Controls */
    .controls{ display:flex; gap:8px; flex-wrap:wrap; margin-top:12px }
    .btn{
      all:unset; display:inline-block; cursor:pointer;
      background:linear-gradient(180deg,#152535,#0f1b29); color:var(--ink);
      border:1px solid var(--blue); border-radius:10px; padding:8px 12px; font-weight:700;
      box-shadow:0 0 14px rgba(136,204,255,0.25);
    }

    /* Responsive */
    @media (max-width:960px){ .windows{grid-template-columns:repeat(2,1fr)} .chamber-grid{grid-template-columns:1fr} .lower{grid-template-columns:1fr} }
    @media (max-width:560px){ .windows{grid-template-columns:1fr} .brand-title{font-size:2.2rem} }
 
  .feed-item {
  background: linear-gradient(180deg, rgba(20,26,34,0.9), rgba(12,17,23,0.9));
  border: 1px solid #273242;
  border-radius: 10px;
  padding: 10px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  animation: fadeSlide 0.6s ease;
}
@keyframes fadeSlide {
  from { opacity: 0; transform: translateY(-6px); }
  to   { opacity: 1; transform: translateY(0); }
}

  .billboard-row {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 16px;
  margin-top: 20px;
}

.billboard-article {
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  border: 1px solid #28435a;
  border-radius: 12px;
  box-shadow: 0 0 20px rgba(136,204,255,0.15);
  padding: 14px;
  animation: fadeSlide 0.6s ease;
}

.billboard-image {
  width: 100%;
  height: 140px;
  border-radius: 10px;
  background: #444;
  margin-bottom: 10px;
}

.billboard-title {
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 4px;
}

.billboard-sub {
  font-size: 0.9rem;
  color: #a8bfd6;
  margin-bottom: 6px;
}

.badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: bold;
  background: linear-gradient(180deg, #88ccff, #bfe8ff);
  color: #04131f;
}

@keyframes fadeSlide {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}
.emblem-sigil {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-bottom: 8px;
  background: radial-gradient(circle at center, rgba(255,255,255,0.08), rgba(136,204,255,0.15));
  box-shadow: 0 0 12px rgba(136,204,255,0.25);
}

/* Unique shading per method */
.prestige-pay {
  background: linear-gradient(135deg, #ffd87a, #fff2c2);
}
.cod {
  background: linear-gradient(135deg, #88ccff, #d0ecff);
}
.money-order {
  background: linear-gradient(135deg, #c0cbd6, #e2e8f0);
}
.checkout-cart {
  background: linear-gradient(135deg, #aee3ff, #eaf6ff);
}

 .cart-list { display: grid; gap: 12px; margin-top: 12px }
.cart-item {
  padding: 12px;
  border-radius: 10px;
  background: linear-gradient(90deg, #2a2a2a 0%, #3a3a3a 50%, #2a2a2a 100%);
  background-size: 200% 100%;
  animation: shimmerSoft 3s infinite linear;
  color: #e0e0e0;
}

@keyframes shimmerSoft {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
.cart-item {
  border: 1px solid rgba(255,255,255,0.06);
}

.cart-item.finalized {
  background: linear-gradient(135deg, #4a3a1a, #6a4a2a);
  color: #ffd87a;
  border: 1px solid #d6b36a;
  box-shadow: 0 0 12px rgba(255,216,122,0.35);
}

.receipt-confirm {
  font-size: 1.2rem;
  font-weight: bold;
  text-align: center;
  background: linear-gradient(135deg, #4a3a1a, #6a4a2a);
  padding: 12px;
  border-radius: 10px;
  box-shadow: 0 0 18px rgba(255,216,122,0.3);
}inear-gradient(135deg, #ffd87a, #fff2c2);
  border-radius: 12px;
  box-shadow: 0 0 24px rgba(255,216,122,0.35);
}
.info-img.glow {
  background: radial-gradient(circle at center, rgba(255,216,122,0.15), transparent);
  box-shadow: 0 0 30px rgba(255,216,122,0.45);
  border: 2px solid #d6b36a;
  border-radius: 12px;
  padding: 16px;
  color: #ffd87a;
}
.cart-btn {
  position: relative;
  font-size: 1rem;
  padding: 8px 14px;
}

.cart-count {
  position: absolute;
  top: -6px;
  right: 160px;
  background: crimson;
  color: white;
  font-size: 0.8rem;
  font-weight: bold;
  border-radius: 50%;
  padding: 2px 6px;
  box-shadow: 0 0 6px rgba(0,0,0,0.3);
}
.product-card {
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.product-card:active {
  transform: scale(0.96); /* slight shrink to simulate press */
  box-shadow: 0 0 6px rgba(0,0,0,0.4) inset; /* inner shadow for depth */
}
.product-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: #1a1a1a;
  border: 1px solid #444;
  border-radius: 12px;
  padding: 16px;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  cursor: pointer;
}

.product-card:hover {
  transform: scale(1.02);
  box-shadow: 0 0 12px rgba(136,204,255,0.5);
}

.product-card:active {
  transform: scale(0.96);
  box-shadow: 0 0 6px rgba(0,0,0,0.4) inset;
}

.product-icon {
  height: 80px;
  width: 80px;
  margin: 0 auto 12px;
  background-size: cover;
  background-position: center;
  border-radius: 50%;
  box-shadow: 0 0 8px rgba(255,255,255,0.1);
}
.ring-crest { background-image: url('/assets/ring.png'); } /* example icon class */

.product-meta {
  text-align: center;
  margin-bottom: 8px;
}

.product-title {
  font-weight: bold;
  font-size: 1.1rem;
  margin-bottom: 4px;
}

.product-cost {
  color: #ccc;
  font-size: 0.95rem;
}

.product-status {
  font-size: 0.85rem;
  font-style: italic;
  color: #aaa;
}

.product-action {
  text-align: center;
  font-size: 0.9rem;
  color: #88ccff;
  margin-top: 8px;
}
.product-grid {
  display: flex;
  flex-direction: column;
  gap: 0; /* remove default spacing */
}

.product-card {
  padding: 16px;
  border-bottom: 1px solid rgba(255,255,255,0.08); /* subtle divider */
}

.product-card:last-child {
  border-bottom: none; /* no divider after last card */
}
.feed-item .badge {
  display:inline-block;
  background:#3b82f6; /* blue aura */
  color:#fff;
  font-size:0.75em;
  padding:2px 6px;
  border-radius:6px;
  margin-top:4px;
}
.floating-cart {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(20,26,34,0.85);
  border: 1px solid #28435a;
  border-radius: 12px;
  padding: 10px 16px;
  color: var(--ink);
  font-weight: bold;
  box-shadow: 0 0 18px rgba(136,204,255,0.25);
  z-index: 999;
  animation: frostFade 0.6s ease;
}
.ghost-btn {
  all: unset;
  margin-left: 12px;
  padding: 6px 10px;
  border-radius: 8px;
  background: linear-gradient(180deg, var(--blue), #bfe8ff);
  color: #04131f;
  font-weight: bold;
  cursor: pointer;
}
@keyframes frostFade {
  from { opacity: 0; transform: scale(0.98); }
  to   { opacity: 1; transform: scale(1); }
}
.frost {
  animation: frostFade 0.8s ease forwards;
}

  </style>
</head>
<body>
  <div class="wrap">

    <!-- Fa√ßade header -->
    <header class="site">
      <div class="crest-mark" aria-hidden="true"></div>
      <h1 class="brand-title"> PRESTIGE HYBRID STORE</h1>
    </header>

    <!-- Verse + token + cart -->
    <section class="token-box frost">
      <div class="verse" id="dailyVerse">‚ÄúLet all that you do be done in love.‚Äù ‚Äî 1 Corinthians 16:14</div>
      <div class="counters">
        <div class="counter gold"><strong>Purchased:ü™ô</strong> <span id="purchasedCount">0</span></div>
        <div class="counter silver"><strong>Symbolic:‚ô¶Ô∏è</strong> <span id="symbolicCount">0</span></div>
      </div>
      <button class="cart-btn" id="cartBtn" onclick="showChamber('checkoutPanel')">
    üõí Cart & Checkout 
    <span id="cartCount" class="cart-count">0</span></button>
    </section>

<section id="userDirectory" class="chamber frost">
  <h4>üë• User Directory</h4>
  <div class="user-grid"></div>
</section>
<section id="loginPanel" class="chamber frost">
  <h4>üîë User Login</h4>
  <div class="controls">
    <input type="text" id="loginUser" placeholder="Enter Username" />
    <input type="text" id="loginCode" placeholder="Enter Access Code" />
    <button class="btn" id="loginBtn">Log In</button>
  </div>
  <div id="loginStatus" class="status pending" style="margin-top:8px"></div>
</section>

    <!-- First windows row (Farce-style live/manual submission look) -->
    <section class="windows" aria-label="Live submissions">
      <article class="window">
        <div class="tile">
          <div class="tile-art" aria-hidden="true"></div>
          <div class="tile-meta">
            <div class="tile-title">Midnight Static</div>
            <div class="tile-sub">Nova & The Wires</div>
            <span class="badge">New</span>
          </div>
        </div>
      </article>
      <article class="window">
        <div class="tile">
          <div class="tile-art" style="background:linear-gradient(135deg,#ff2d6b,#ffd87a)"></div>
          <div class="tile-meta">
            <div class="tile-title">Glass Rituals</div>
            <div class="tile-sub">Vera K.</div>
            <span class="badge">Live</span>
          </div>
        </div>
      </article>
      <article class="window">
        <div class="tile">
          <div class="tile-art" style="background:linear-gradient(135deg,#00e5ff,#0077ff)"></div>
          <div class="tile-meta">
            <div class="tile-title">Concrete Lullaby</div>
            <div class="tile-sub">Brutalist Choir</div>
            <span class="badge">Trending</span>
          </div>
        </div>
      </article>
      <article class="window">
        <div class="tile">
          <div class="tile-art" style="background:linear-gradient(135deg,#9bff5e,#2ed573)"></div>
          <div class="tile-meta">
            <div class="tile-title">Green Room Echoes</div>
            <div class="tile-sub">Staff Ensemble</div>
            <span class="badge">Exclusive</span>
          </div>
        </div>
      </article>
    </section>
<section id="billboard" class="billboard-row">
  <!-- Articles will be injected here -->
</section>

    <!-- Second windows row: chamber directory -->
    <section class="windows windows-dir" aria-label="Chamber directory">
      <article class="dir-card">
        <h3>üèõ Commerce</h3>
        <p>Purchased items, token logic, payment rails.</p>
        <a class="open" href="#commerce">Open chamber</a>
      </article>
      <article class="dir-card">
        <h3>‚öîÔ∏è Gamified</h3>
        <p>Quest rewards, symbolic tokens.</p>
        <a class="open" href="#gamified">Open chamber</a>
      </article>
      <article class="dir-card">
        <h3>ü§ù Community</h3>
        <p>Pooled contributions, generosity artifacts.</p>
        <a class="open" href="#community">Open chamber</a>
      </article>
      <article class="dir-card">
        <h3>‚úùÔ∏è Faith</h3>
        <p>Spiritual-only, prayer submission.</p>
        <a class="open" href="#faith">Open chamber</a>
      </article>
    </section>

    <!-- Chambers -->
    <section id="commerce" class="chamber frost">
      
      <div class="chamber-grid">
        <div class="info-panel">
          <div class="info-img void" aria-hidden="true"></div>
          <h4>üèõ Commerce Chamber</h4>
          <p>Pending credits shimmer silver until a Prestige member finalizes them to gold.</p>
          <p>Cart lists all available purchases, including token-related offerings.</p>
                  
        </div>
        <div class="chamber-grid">
        <div class="store-panel">
          <h4>Store</h4><div class="status pending">Pending verification</div><br>
          <div class="product-grid">
           <div class="product-card" onclick="addToCart('Crystal Ring', 20, 50, 'hybrid')">
  <div class="product-icon ring-crest"></div>
  <div class="product-meta">
    <div class="product-title">Crystal Ring</div>
    <div class="product-cost">üí∞ 20 purchased tokens</div>
    <div class="product-cost">‚ô¶Ô∏è 50 symbolic crystals</div>
    <div class="product-status pending">Pending Verification</div>
  </div>
  <div class="product-action">Click to add to cart</div>
</div>




              
            </div><br>
          
        <div class="chamber-grid">
            <div class="product-card" onclick="addToCart('Silver Necklace', 20)">
              <div class="product-title">Silver Necklace</div>
              <div class="price">üí∞ 30 purchased tokens</div><div class="status pending">Click to add to cart</div>
              
            </div>
            <div class="chamber-grid">
            <div class="product-card" onclick="addToCart('Braided Bracelet', 20)">
              <div class="product-title">Braided Bracelet</div>
              <div class="price">üí∞ 15 purchased tokens</div><div class="status pending">Click to add to cart</div>
              
            </div>
             <div class="chamber-grid"> 
           <div class="product-card" onclick="addToCart('Crest Charm', 20)">
              <div class="product-title">Crest Charm</div>
         <div class="price">üí∞ 10 purchased tokens</div>
              <div class="status pending">Click to add to cart</div>
              
            </div>
          </div>

 
</section>

    <section id="gamified" class="chamber frost">
  
      <div class="chamber-grid">
        <div class="info-panel">
          <div class="info-img" aria-hidden="true"></div>
          <h4>‚öîÔ∏è Gamified Chamber</h4>
          <p>Symbolic tokens are earned through quests and community actions (distinct from purchased tokens).</p>
        </div>
        <div class="store-panel">
          <h4>Rewards</h4>
          <div class="product-grid">
            <div class="product-card">
              <div class="product-title">Quest Badge</div>
              <div class="price">Cost: 5 symbolic tokens</div>
              <div class="status pending">Pending verification</div>
            </div>
            <div class="product-card">
              <div class="product-title">Mini‚Äëgame Medal</div>
              <div class="price">Cost: 8 symbolic tokens</div>
              <div class="status pending">Pending verification</div>
            </div>
            <div class="product-card">
              <div class="product-title">Challenge Scroll</div>
              <div class="price">Cost: 10 symbolic tokens</div>
              <div class="status pending">Pending verification</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="community" class="chamber frost">
     
      <div class="chamber-grid">
        <div class="info-panel">
          <div class="info-img" aria-hidden="true"></div>
          <h4>ü§ù Community Chamber</h4>
          <p>Pooled contributions and generosity artifacts are honored with symbolic tokens.</p>
          <ul style="margin:8px 0">
            <li>Volunteer hours (+6 symbolic)</li>
            <li>Smoke‚Äëfree challenge (+6 symbolic)</li>
            <li>Help a neighbor (+6 symbolic)</li>
            <li>Pooled contribution (+2 symbolic)</li>
          </ul>
        </div>
        <div class="store-panel">
          <h4>Artifacts</h4>
          <div class="product-grid">
            <div class="product-card">
              <div class="product-title">Community Crest</div>
              <div class="price">Cost: 6 symbolic tokens</div>
              <div class="status pending">Pending verification</div>
            </div>
            <div class="product-card">
              <div class="product-title">Generosity Ribbon</div>
              <div class="price">Cost: 7 symbolic tokens</div>
              <div class="status pending">Pending verification</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="faith" class="chamber frost">
      
      <div class="chamber-grid">
        <div class="info-panel">
          <div class="info-img" aria-hidden="true"></div>
          <h4>‚úùÔ∏è Faith Chamber</h4>
          <p>Spiritual‚Äëonly; submit prayer requests‚Äîno tokens are used here.</p>
          <div class="verse">‚ÄúBe kind to one another, tenderhearted.‚Äù ‚Äî Ephesians 4:32</div>
        </div>
        <div class="store-panel">
          <h4>Prayer submission</h4>
          <input type="text" id="prayerInput" placeholder="Type your prayer here‚Ä¶" />
          <div class="controls" style="margin-top:8px">
            <button class="btn" id="submitPrayer">Submit prayer</button>
          </div>
          <div id="prayerLog" class="feed" style="margin-top:12px"></div>
        </div>
      </div>
    </section>

      
      
          
<!-- Cart Chamber -->
<section id="checkoutPanel" class="chamber frost" >
  
  <div class="chamber-grid">
    
    <!-- LEFT: Receipt viewer -->
    <div class="info-panel">
      <div class="info-img void" id="receiptViewer" aria-hidden="true"></div>
      <h4>üßæ Receipt Viewer</h4>
      <p>Finalized purchases glow gold. Pending shimmer silver until ledger confirmation.</p>
      <div id="receiptTotal">Total: 0 ü™ô + 0 ‚ô¶ </div>
    </div>

    <!-- RIGHT: Cart list -->
    <div class="store-panel">
      <h4>Cart & Checkout</h4>
      <div id="cartList" class="cart-list"></div>
      <button class="btn ghost-btn" onclick="emptyCart()">Empty Cart</button>

      <button class="btn finalize-btn" onclick="finalizeCart()">Finalize Purchases</button>
    </div>
 <!-- Payment rails and ritual flow -->
         <div class="checkout">
  <div class="rail">
    <div class="emblem-sigil prestige-pay"></div>
    <strong>Prestige Pay</strong>
    <p>Friendly flow. Finalization confirmed by ledger glow. Requires ceremonial desk approval.</p>
  </div>
  <div class="rail">
    <div class="emblem-sigil cod"></div>
    <strong>Cash on Delivery</strong>
    <p>Verified post-receipt. Status shimmer appears after member confirmation.</p>
  </div>
  <div class="rail">
    <div class="emblem-sigil money-order"></div>
    <strong>Money Order</strong>
    <p>Accepted with pacing. Ledger updates once received and verified.</p>
  </div>
  <div class="rail">
    <div class="emblem-sigil checkout-cart"></div>
    <strong>Checkout Cart</strong>
    <p>View all pending purchases. Shimmer silver until finalized by Prestige member.</p>
  </div>
</div>
  </div>
</section>
      
      
      
      
      
    <!-- Live feed + reflection + community ad -->
    <section class="lower">
      <div class="panel-lite">
        <h4 style="margin:6px 0 10px">Live updates</h4>
        <div id="liveFeed" class="feed">
          <div class="feed-item">üõç Crystal Ring purchase requested (Commerce) ‚Äî pending shimmer</div>
          <div class="feed-item">‚öîÔ∏è Quest completed: Submit grades (+5 symbolic)</div>
          <div class="feed-item">‚úùÔ∏è Prayer submitted: ‚ÄúGuide me in patience.‚Äù</div>
        </div>
      </div>
      <div class="panel-lite">
        <h4 style="margin:6px 0 10px">Reflection</h4>
        <div id="reflectionBox" class="ad">What effort today felt honest and steady?</div>
        <h4 style="margin:14px 0 10px">Community ad</h4>
        <div id="communityAd" class="ad">Neighbors Helping Neighbors ‚Äî pledge board rotates every 6 hours.</div>
      </div>
    </section>

      
      
  
      
      
      
      
    <!-- Directory back controls -->
    <section class="controls" style="margin-top:16px">
      <a class="btn" href="#">Back to top</a>
      <button class="btn" onclick="showChamber('')">Reset chambers</button>
    </section>

      
    <!-- Cart button already in token-box -->



      
      
  </div>

 
      



   
      
  <script>
    // Static reveal via class toggling (.active). Anchors also work.
    function showChamber(id){
      const ids = ['commerce','gamified','community','faith','checkoutPanel'];
      ids.forEach(x => {
        const el = document.getElementById(x);
        if(!el) return;
        if (id === x) { el.classList.add('active'); location.hash = '#' + id; }
        else { el.classList.remove('active'); }
      });
      if (!id) { history.pushState('', document.title, window.location.pathname + window.location.search); }
    }

    // Verse rotation every 30s (placeholder-ready for live JSON)
    const verses = [
      "‚ÄúLet all that you do be done in love.‚Äù ‚Äî 1 Corinthians 16:14",
      "‚ÄúBe kind to one another, tenderhearted‚Äù ‚Äî Ephesians 4:32",
      "‚ÄúWalk by faith not by sight‚Äù ‚Äî 2 Corinthians 5:7",
      "‚ÄúThe Lord is my shepherd I shall not want‚Äù ‚Äî Psalm 23:1"
    ];
    let v = 0;
    setInterval(() => {
      v = (v + 1) % verses.length;
      const box = document.getElementById('dailyVerse');
      if (box) box.textContent = verses[v];
    }, 30000);

    // Reflection rotation every 45s
    const reflections = [
      "Where can you slow down and show care?",
      "Does this purchase align with your values right now?",
      "Would gifting this bring someone meaningful joy?",
      "What patience do you want to practice today?"
    ];
    setInterval(() => {
      const idx = Math.floor(Math.random() * reflections.length);
      const el = document.getElementById('reflectionBox');
      if (el) el.textContent = reflections[idx];
    }, 45000);

    // Community ad placeholder rotation every 6 hours
    const ads = [
      "Neighbors Helping Neighbors ‚Äî pledge board updates at dusk.",
      "Community Crest Night ‚Äî shared table, shared honor.",
      "Volunteer Circle ‚Äî add your hour, lift someone‚Äôs week.",
      "Quiet Generosity ‚Äî small acts, steady light."
    ];
    setInterval(() => {
      const idx = Math.floor(Math.random() * ads.length);
      const el = document.getElementById('communityAd');
      if (el) el.textContent = ads[idx];
    }, 6 * 60 * 60 * 1000);

    // Prayer submission (front-end only; hook to Sheets JSON in production)
    document.getElementById('submitPrayer')?.addEventListener('click', () => {
      const input = document.getElementById('prayerInput');
      const log = document.getElementById('prayerLog');
      const text = (input?.value || '').trim();
      if (!text) return;
      const ts = new Date().toLocaleString();
      const item = document.createElement('div');
      item.className = 'feed-item';
      item.textContent = `üïä ${text} ‚Äî ${ts}`;
      log?.prepend(item);
      input.value = '';
      // In production: POST to Google Apps Script ‚Üí Sheet; live feed pulls JSON
    });

    // Token counters: JSON hooks (no local placeholders in prod)
    async function loadLedger(){
      // Replace with your Apps Script JSON endpoint(s)
      // Example: const url = 'https://script.google.com/macros/s/XXXX/exec';
      // const res = await fetch(url, {cache:'no-store'}); const data = await res.json();
      // document.getElementById('purchasedCount').textContent = data.purchased;
      // document.getElementById('symbolicCount').textContent = data.symbolic;
    }
    // Call on load (disabled until endpoints provided)
    // loadLedger();

    // Cart button ‚Üí opens Commerce chamber
    document.getElementById('cartBtn')?.addEventListener('click', () => showChamber('checkoutPanel'));

    // On anchor navigation, ensure class toggling matches :target
    window.addEventListener('hashchange', () => {
      const id = (location.hash || '').replace('#','');
      if (['commerce','gamified','community','faith','checkoutPanel'].includes(id)) showChamber(id);
    });

    // Initial hash activation if present
    (function initFromHash(){
      const id = (location.hash || '').replace('#','');
      if (['commerce','gamified','community','faith','checkoutPanel'].includes(id)) showChamber(id);
    })();
    
    
   </script><script>

(function(){
  const feed = document.getElementById('liveFeed');
  const samples = [
    'üèõ Purchase finalized: Silver Necklace',
    '‚öîÔ∏è Quest completed: Birthday bonus (+5 symbolic)',
    'ü§ù Contribution added: Help a neighbor (+2 symbolic)',
    '‚úùÔ∏è Prayer submitted: ‚ÄúStrength for tomorrow.‚Äù'
  ];
  let s = 0;

  setInterval(()=>{
    const item = document.createElement('div');
    item.className = 'feed-item';

    // Generate timestamp
    const now = new Date();
    const ts = now.toLocaleString(); // e.g. "11/13/2025, 6:45:12 PM"

    item.innerHTML = `<span>${samples[s % samples.length]}</span><small>${ts}</small>`;
    feed.prepend(item); // keep feed tidy
    if(feed.children.length > 6) feed.lastElementChild.remove();

    // cycle sample index
    s++;
  }, 60000); // every 1 minute
})();
</script>

   
<script>
(function(){
  const billboard = document.getElementById('billboard');
  const entries = [
    {
      title: "Midnight Static",
      sub: "Nova & The Wires",
      badge: "NEW",
      image: "#1a1a1a"
    },
    {
      title: "Glass Rituals",
      sub: "V√©ra K.",
      badge: "LIVE",
      image: "#ff2d6b"
    },
    {
      title: "Concrete Lullaby",
      sub: "Brutalist Choir",
      badge: "TRENDING",
      image: "#0077ff"
    },
    {
      title: "Green Room Echoes",
      sub: "Staff Ensemble",
      badge: "EXCLUSIVE",
      image: "#2ed573"
    }
  ];
  let i = 0;

  setInterval(() => {
    const e = entries[i % entries.length];
    const article = document.createElement('article');
    article.className = 'billboard-article';
    article.innerHTML = `
      <div class="billboard-image" style="background:${e.image}"></div>
      <div class="billboard-title">${e.title}</div>
      <div class="billboard-sub">${e.sub}</div>
      <span class="badge">${e.badge}</span>
    `;
    billboard.prepend(article);
    if (billboard.children.length > 4) billboard.lastElementChild.remove();
    i++;
  }, 15000); // every 8 seconds
})();
</script>
<script>
function unlockItem(id, className, cost){
  const card = document.getElementById(id);
  if (!card) return;

  card.classList.remove('locked');
  card.classList.add('unlocked');

  const veil = card.querySelector('.frost-veil');
  if (veil) veil.style.display = 'none';

  const status = card.querySelector('.object-status');
  if (status){
    status.textContent = 'Unlocked ‚Ä¢ Awaiting member finalization';
    status.classList.remove('pending');
    status.classList.add('finalized');
  }

  card.setAttribute('onclick', `displayInViewer('${className}', '${card.querySelector('.object-title').textContent}')`);
}
function displayInViewer(className, title){
  const viewer = document.querySelector('#commerce .info-img');
  viewer.className = 'info-img ' + className;
  viewer.setAttribute('aria-label', title);
}
  
  
</script>



<script>
let cartTokenTotal = 0, cartCrystalTotal = 0, cartItems = 0;

function addToCart(name, tokenCost, crystalCost, type){
  const cart = document.getElementById('cartList');
  const item = document.createElement('div');
  item.className = 'cart-item shimmer';
  item.innerHTML = `
    <div class="cart-title">${name}</div>
    ${type !== 'crystal' ? `<div>üí∞ ${tokenCost} purchased tokens</div>` : ''}
    ${type !== 'token' ? `<div>‚ô¶Ô∏è ${crystalCost} symbolic crystals</div>` : ''}
    <div class="cart-status">Pending ‚Ä¢ Awaiting Prestige verification</div>
  `;
  cart.appendChild(item);

  if (type !== 'crystal') cartTokenTotal += tokenCost;
  if (type !== 'token') cartCrystalTotal += crystalCost;

  cartItems += 1;
  updateCartDisplay();
}

function updateCartDisplay(){
  const badge = document.getElementById('cartCount');
  const floatBadge = document.getElementById('floatingCartCount');
  const total = document.getElementById('receiptTotal');

  if (badge) badge.textContent = cartItems;
  if (floatBadge) floatBadge.textContent = cartItems;
  if (total) total.textContent = `Total: ${cartTokenTotal} ü™ô + ${cartCrystalTotal} <üî¥>`;
}

function finalizeCart(){
  const viewer = document.getElementById('receiptViewer');
  if (viewer) {
    viewer.className = 'info-img shimmer';
    viewer.innerHTML = `<div class="receipt-confirm">üßæ Submitted ‚Ä¢ ${cartTokenTotal} ü™ô + ${cartCrystalTotal} <üî¥><br>Awaiting Prestige verification</div>`;
  }

  document.querySelectorAll('.cart-item').forEach(item => {
    item.classList.add('shimmer');
    item.classList.remove('finalized');
    const s = item.querySelector('.cart-status');
    if (s) s.textContent = 'Pending ‚Ä¢ Awaiting Prestige verification';
  });

  // Do NOT deduct balances yet‚Äîwait for sheet confirmation
  cartTokenTotal = 0;
  cartCrystalTotal = 0;
  cartItems = 0;
  updateCartDisplay();
}

function emptyCart(){
  const cart = document.getElementById('cartList');
  if (cart) cart.innerHTML = '';
  cartTokenTotal = 0;
  cartCrystalTotal = 0;
  cartItems = 0;
  updateCartDisplay();

  const viewer = document.getElementById('receiptViewer');
  if (viewer){
    viewer.className = 'info-img void';
    viewer.innerHTML = '';
  }

  const total = document.getElementById('receiptTotal');
  if (total) total.textContent = `Total: 0 ü™ô + 0 <üî¥>`;
}

</script>
<script>
// --- Utility: parse Google Sheets GViz JSON ---
async function loadSheet(sheetName){
  const url = `https://docs.google.com/spreadsheets/d/1Gppnlp80FqgOzeUERsSmLp5pZ4E9tvhfbt22NKtUbk8/gviz/tq?sheet=${sheetName}&tqx=out:json`;
  const res = await fetch(url);
  const text = await res.text();
  const json = JSON.parse(text.substr(47).slice(0, -2));
  return json.table.rows.map(r => r.c.map(c => c ? c.v : ""));
}

// --- COMMUNITY drip feed ---
let communityRows = [], communityIndex = 0;
async function initCommunityFeed(){
  communityRows = await loadSheet("Community");
  communityIndex = 0;
  revealNextCommunity();
  setInterval(revealNextCommunity, 60000); // one every 60s
}
function revealNextCommunity(){
  if (communityIndex >= communityRows.length) return;
  const r = communityRows[communityIndex];
  const box = document.getElementById("liveFeed");
  if (!box) return;
  const el = document.createElement("div");
  el.className = "feed-item fadeSlide"; // fade-in refinement
  el.textContent = `ü§ù ${r[0]} ‚Äî ${r[1]} ${r[2] ? "(" + r[2] + ")" : ""}`;
  box.prepend(el);
  // keep last 6 visible
  while (box.children.length > 6) box.removeChild(box.lastChild);
  communityIndex++;
}

// --- ADS drip feed ---
let adsRows = [], adsIndex = 0;
async function initAdsFeed(){
  adsRows = await loadSheet("Ads");
  adsIndex = 0;
  revealNextAd();
  setInterval(revealNextAd, 45000); // one every 45s
}
function revealNextAd(){
  if (adsRows.length === 0) return;
  const r = adsRows[adsIndex % adsRows.length]; // loop refinement
  const board = document.getElementById("billboard");
  if (!board) return;
  const article = document.createElement("article");
  article.className = "billboard-article fadeSlide";
  article.innerHTML = `
    <div class="billboard-image"></div>
    <div class="billboard-title">${r[0]}</div>
    <div class="billboard-sub">${r[1]} ${r[2] ? "(" + r[2] + ")" : ""}</div>
    <span class="badge">AD</span>
  `;
  board.prepend(article);
  while (board.children.length > 4) board.removeChild(board.lastChild);
  adsIndex++;
}

// --- FAITH drip feed ---
let faithRows = [], faithIndex = 0;

async function initFaithFeed(){
  faithRows = await loadSheet("Faith");
  faithIndex = 0;
  revealNextFaith();
  setInterval(revealNextFaith, 45000); // one every 45s
}

function revealNextFaith(){
  if (faithRows.length === 0) return;
  const r = faithRows[faithIndex % faithRows.length];
  const log = document.getElementById("prayerLog");
  if (!log) return;

  const el = document.createElement("div");
  el.className = "feed-item fadeSlide";

  // richer markup with badge
  el.innerHTML = `
    <div class="faith-title">üïä ${r[0]}</div>
    <div class="faith-message">${r[1]} ${r[2] ? "(" + r[2] + ")" : ""}</div>
    <span class="badge">FAITH</span>
  `;

  log.prepend(el);

  // keep only last 6 prayers visible
  while (log.children.length > 6) {
    log.removeChild(log.lastChild);
  }

  faithIndex++;
}

// --- Initialize all feeds ---
document.addEventListener("DOMContentLoaded", () => {
  initCommunityFeed();
  initAdsFeed();
  initFaithFeed();
});
</script>
<script>
// Attach hover preview + cart logic to all product cards
document.addEventListener("DOMContentLoaded", () => {
  const info = document.getElementById("infoImg"); // the void preview panel
  const cartCountEl = document.getElementById("cartCount");
  const cartLog = document.getElementById("cartLog");

  let cartCount = 0;

  document.querySelectorAll(".product-card").forEach(card => {
    const titleEl = card.querySelector(".product-title");
    const title = titleEl ? titleEl.textContent : "Item";

    // Hover preview
    card.addEventListener("mouseenter", () => {
      if (info){
        info.style.backgroundImage = "url('/assets/" + title.toLowerCase().replace(/\s+/g,'-') + ".png')";
        info.style.backgroundSize = "cover";
        info.style.backgroundPosition = "center";
        info.classList.add("glow");
      }
    });
    card.addEventListener("mouseleave", () => {
      if (info){
        info.style.backgroundImage = "";
        info.classList.remove("glow");
      }
    });

    // Click ‚Üí add to cart
    card.addEventListener("click", () => {
      cartCount++;
      if (cartCountEl) cartCountEl.textContent = cartCount;

      if (cartLog){
        const item = document.createElement("div");
        item.className = "feed-item fadeSlide";
        item.textContent = `üõí Added: ${title}`;
        cartLog.prepend(item);
        while (cartLog.children.length > 5) cartLog.lastChild.remove();
      }
    });
  });
});
  
  
</script>
<div id="floatingCart" class="floating-cart frost">
  üõí <span id="floatingCartCount">0</span> items
  <button class="ghost-btn" onclick="showChamber('checkoutPanel')">Checkout</button>
</div>
</script><script>
// Static registry: username + access code
const registry = {
  "abc123": { username: "JohnDoe" },
  "xyz789": { username: "JaneSmith" }
};

// Parse URL parameters
function getParams(){
  const params = new URLSearchParams(window.location.search);
  return {
    user: params.get("user"),
    purchased: params.get("purchased"),
    symbolic: params.get("symbolic"),
    transaction: params.get("transaction"),
    status: params.get("status")
  };
}

// Update localStorage from URL parameters
function syncLedgerFromParams(){
  const p = getParams();
  if (p.user){
    const accounts = JSON.parse(localStorage.getItem("accounts") || "{}");
    accounts[p.user] = {
      purchased: p.purchased || accounts[p.user]?.purchased || "0",
      symbolic: p.symbolic || accounts[p.user]?.symbolic || "0",
      transaction: p.transaction || accounts[p.user]?.transaction || "",
      status: p.status || accounts[p.user]?.status || "Pending",
      card: accounts[p.user]?.card || "N/A"
    };
    localStorage.setItem("accounts", JSON.stringify(accounts));
  }
}

// Render user card from localStorage
function renderUserCard(username){
  const accounts = JSON.parse(localStorage.getItem("accounts") || "{}");
  const u = accounts[username];
  if (!u) return;

  const grid = document.querySelector("#userDirectory .user-grid");
  grid.innerHTML = `
    <div class="user-card frost">
      <div class="crest-avatar"></div>
      <div class="user-meta">
        <div class="account-name">${username}</div>
        <div class="card-id">PrestigePayCard: ${u.card}</div>
        <div class="token-balance">ü™ô ${u.purchased} | ‚ô¶Ô∏è ${u.symbolic}</div>
        <div class="last-transaction ${u.status === "Finalized" ? "glow-gold" : "glow-silver"}">
          ${u.transaction}
        </div>
      </div>
    </div>
  `;

  document.getElementById("purchasedCount").textContent = u.purchased;
  document.getElementById("symbolicCount").textContent = u.symbolic;
}

// Login logic
async function loginUser(e){
  e?.preventDefault?.();
  const username = document.getElementById("loginUser").value.trim();
  const code = document.getElementById("loginCode").value.trim();
  const statusEl = document.getElementById("loginStatus");

  statusEl.textContent = "‚Ä¶ Checking access code";
  statusEl.className = "status pending";

  const user = registry[code];
  if (user && user.username === username){
    sessionStorage.setItem("username", user.username);
    sessionStorage.setItem("accessCode", code);
    statusEl.textContent = "‚úÖ Login successful";
    statusEl.className = "status finalized";
    renderUserCard(user.username);
    document.getElementById("userDirectory").classList.add("active");
    document.getElementById("loginPanel").classList.remove("active");
  } else {
    statusEl.textContent = "‚úó INVALID USERNAME OR ACCESS CODE";
    statusEl.className = "status pending";
  }
}

// Polling loop: refresh from localStorage every 15s
setInterval(() => {
  const username = sessionStorage.getItem("username");
  if (username){
    renderUserCard(username);
  }
}, 15000);

// On load: sync ledger from URL params
window.onload = () => {
  syncLedgerFromParams();

  const loginPanel = document.getElementById("loginPanel");
  if (loginPanel) loginPanel.classList.add("active", "frost");

  const loginBtn = document.getElementById("loginBtn");
  if (loginBtn) loginBtn.addEventListener("click", loginUser);

  const loginCode = document.getElementById("loginCode");
  if (loginCode) {
    loginCode.addEventListener("keydown", (e) => {
      if (e.key === "Enter") loginUser(e);
    });
  }
};
</script>






</body>
</html>
